"use strict";(self.webpackChunkreact_cars=self.webpackChunkreact_cars||[]).push([[252],{268:function(e,a,n){n.d(a,{Z:function(){return p}});var s=n(439),t=n(791),r=n(184),c=function(e){var a=e.openModal;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{type:"button",className:"ButtonLearn",onClick:a,children:"Learn more"})})},i=n(87),l=function(e){var a,n,c,l=e.isOpen,o=e.onClose,m=e.car,d=(0,t.useState)(!1),u=(0,s.Z)(d,2),f=u[0],h=u[1];return(0,t.useEffect)((function(){var e=function(e){"Escape"===e.key&&h(!0)};return l&&window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[l]),(0,t.useEffect)((function(){f&&o()}),[f,o]),l?(0,r.jsx)("div",{className:"modalBackdrop",onClick:o,children:(0,r.jsxs)("div",{className:"modalContent",onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)("button",{className:"closeButton",onClick:o,children:"\xd7"}),(0,r.jsx)("img",{src:m.img,alt:m.model,className:"carsListItemModal-image"}),(0,r.jsxs)("div",{className:"itemContainerModal",children:[(0,r.jsxs)("div",{className:"itemContainerTitlePrice",children:[(0,r.jsxs)("h2",{className:"itemTitleModal",children:[m.make," ",m.model,", ",m.year]}),(0,r.jsx)("h2",{className:"itemPriceModal",children:m.rentalPrice})]}),(0,r.jsxs)("ul",{className:"itemInfoModal",children:[(0,r.jsx)("li",{className:"itemInfoItemModal",children:(c=m.address,c.split(", ").slice(1,-1).toString())}),(0,r.jsx)("li",{className:"itemInfoItemModal",children:function(e){return e.split(", ").slice(2).toString()}(m.address)}),(0,r.jsx)("li",{className:"itemInfoItemModal",children:m.rentalCompany}),(0,r.jsx)("li",{className:"itemInfoItemModal",children:"Premium"}),(0,r.jsx)("li",{className:"itemInfoItemModal",children:m.type}),(0,r.jsx)("li",{className:"itemInfoItemModal",children:m.model}),(0,r.jsx)("li",{className:"itemInfoItemModal",children:m.id}),(0,r.jsx)("li",{className:"itemInfoItemLastModal",children:m.accessories[2]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"itemDescription",children:m.description})}),(0,r.jsxs)("div",{className:"itemAccessoriesInfo",children:[(0,r.jsx)("p",{className:"itemAccessories",children:"Accessories and functionalities:"}),(0,r.jsx)("ul",{className:"itemInfoModal",children:m.accessories.map((function(e){return(0,r.jsx)("li",{className:"itemInfoItemModal",children:e})}))}),(0,r.jsx)("ul",{className:"itemInfoModal",children:m.functionalities.map((function(e){return(0,r.jsx)("li",{className:"itemInfoItemModal",children:e})}))})]}),(0,r.jsxs)("div",{className:"rentalDescr",children:[(0,r.jsx)("h4",{className:"rentalDescrTitle",children:"Rental Conditions: "}),(0,r.jsxs)("ul",{className:"rentalDescrArray",children:[(n=m.rentalConditions,n.split("\n")).map((function(e,a){return e.includes(":")?(0,r.jsxs)("li",{className:"rentalDescrArrayItem",children:[" ",e.split(":")[0],":"," ",(0,r.jsx)("span",{className:"rentalDescrArrayItemSpan",children:e.split(":")[1]})," "]},a):(0,r.jsx)("li",{className:"rentalDescrArrayItem",children:e},a)})),(0,r.jsxs)("li",{className:"rentalDescrArrayItem",children:["Mileage:"," ",(0,r.jsx)("span",{className:"rentalDescrArrayItemSpan",children:(a=m.mileage,a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))})]}),(0,r.jsxs)("li",{className:"rentalDescrArrayItem",children:["Price:"," ",(0,r.jsx)("span",{className:"rentalDescrArrayItemSpan",children:m.rentalPrice})]})]})]}),(0,r.jsx)("div",{className:"rentCarBtn",children:(0,r.jsx)(i.rU,{className:"rentCarBtnLink","data-rel":"external",to:"tel:+380730000000",target:"blank",children:"Rental car"})})]})]})}):null},o=n(861),m=n(757),d=n.n(m),u={favoriteButton:"AddCar_favoriteButton__Mffnd",favorite:"AddCar_favorite__mZa4e",IconHeard:"AddCar_IconHeard__qhzSq",iconHeard:"AddCar_iconHeard__z2gb0"},f=n(135),h=n(243),x=function(e){var a=e.car,n=(0,t.useState)(a.favorite),c=(0,s.Z)(n,2),i=c[0],l=c[1],m=function(){var e=(0,o.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.put("https://64a05432ed3c41bdd7a73763.mockapi.io/cars/".concat(a.id),{favorite:!i});case 3:200===e.sent.status&&l(!i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u0456 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f favorite",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,r.jsx)("button",{onClick:m,className:"".concat(u.favoriteButton," ").concat(i?u.favorite:""),children:(0,r.jsx)(f.$0H,{className:u.iconHeart})})},j=function(e){var a,n=e.car,i=(0,t.useState)(!1),o=(0,s.Z)(i,2),m=o[0],d=o[1];return(0,r.jsxs)("li",{className:"carsListItem",children:[(0,r.jsx)(x,{className:"addCar",car:n}),(0,r.jsx)("img",{src:n.img,alt:n.model,className:"carsListItem-image"}),(0,r.jsxs)("div",{className:"itemContainer",children:[(0,r.jsxs)("div",{className:"itemContainerTitlePrice",children:[(0,r.jsxs)("h2",{className:"itemTitle",children:[n.make," ",n.model,", ",n.year]}),(0,r.jsx)("h2",{className:"itemPrice",children:n.rentalPrice})]}),(0,r.jsxs)("ul",{className:"itemInfo",children:[(0,r.jsx)("li",{className:"itemInfoItem",children:(a=n.address,a.split(", ").slice(1,-1).toString())}),(0,r.jsx)("li",{className:"itemInfoItem",children:function(e){return e.split(", ").slice(2).toString()}(n.address)}),(0,r.jsx)("li",{className:"itemInfoItem",children:n.rentalCompany}),(0,r.jsx)("li",{className:"itemInfoItem",children:"Premium"}),(0,r.jsx)("li",{className:"itemInfoItem",children:n.type}),(0,r.jsx)("li",{className:"itemInfoItem",children:n.model}),(0,r.jsx)("li",{className:"itemInfoItem",children:n.id}),(0,r.jsx)("li",{className:"itemInfoItemLast",children:n.accessories[2]})]}),(0,r.jsx)(c,{openModal:function(){d(!0)}}),(0,r.jsx)(l,{isOpen:m,onClose:function(){d(!1)},car:n})]})]})},p=function(e){var a=e.cars;return console.log(a),(0,r.jsx)("div",{className:"conteiner",children:(0,r.jsx)("ul",{className:"carsImageGallery",children:a.map((function(e){return(0,r.jsx)(j,{car:e},e.id)}))})})}},252:function(e,a,n){n.r(a),n.d(a,{default:function(){return h}});var s=n(433),t=n(861),r=n(439),c=n(757),i=n.n(c),l=n(791),o=n(243);o.Z.defaults.baseURL="https://64a05432ed3c41bdd7a73763.mockapi.io/";var m=function(){var e=(0,t.Z)(i().mark((function e(a,n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/cars?limit=".concat(a,"&page=").concat(n));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),d=n(268),u=n(184),f=function(e){var a=e.onLoadMore;return(0,u.jsx)("button",{type:"button",className:"ButtonLoad",onClick:a,children:"Load more"})},h=function(){var e=(0,l.useState)([]),a=(0,r.Z)(e,2),n=a[0],c=a[1],o=(0,l.useState)(null),h=(0,r.Z)(o,2),x=(h[0],h[1]),j=(0,l.useState)(1),p=(0,r.Z)(j,2),N=p[0],I=p[1],v=(0,l.useState)(0),g=(0,r.Z)(v,2),C=g[0],k=g[1];console.log(n),(0,l.useEffect)((function(){var e=function(){var e=(0,t.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(C,N);case 3:a=e.sent,c((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(a))})),k(8),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Something went wrong with fetching cars:",e.t0),x(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[N,C]);var y=0!==n.length;return(0,u.jsxs)("div",{children:[(0,u.jsx)(d.Z,{cars:n}),y?(0,u.jsx)(f,{onLoadMore:function(){I(N+1)}}):(0,u.jsx)(u.Fragment,{})]})}}}]);
//# sourceMappingURL=252.64413199.chunk.js.map